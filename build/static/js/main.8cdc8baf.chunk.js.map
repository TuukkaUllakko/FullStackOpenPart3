{"version":3,"sources":["components/Filter.js","components/PersForm.js","components/Persons.js","services/persons.js","components/AddedNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","value","onChange","PersForm","props","onSubmit","newName","nameOnChange","newNumber","numberOnChange","type","Persons","persons","filter","onClick","personFilter","length","person","name","toUpperCase","includes","console","log","map","key","id","number","baseUrl","axios","get","then","response","data","newObject","post","put","delete","AddedNotification","message","className","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","newMsg","setNewMsg","newErrMsg","setNewErrmsg","useEffect","phoneService","event","target","preventDefault","personObject","window","confirm","find","item","updatedPerson","catch","error","setTimeout","returnedPerson","concat","result","indexOfEntry","indexOf","personsCopy","splice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8cdc8baf.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div>\r\n        filter shown with\r\n        <input\r\n        value={value}\r\n        onChange={onChange}\r\n        />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersForm = (props) => {\r\n    return (\r\n        <form onSubmit = {props.onSubmit}>\r\n        <div>name: <input value={props.newName} onChange={props.nameOnChange}/></div>\r\n        <div>number: <input value={props.newNumber} onChange={props.numberOnChange}/></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, onClick}) => {\r\n\r\n    const personFilter = filter.length === 0\r\n    ? persons\r\n    : persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\r\n    console.log(personFilter)\r\n\r\n    return (\r\n      <div>\r\n        {personFilter.map(person => <div key={person.id}>{person.name} {person.number}\r\n        <button onClick={() => onClick(person.id, person.name)}>delete</button></div>)}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst AddedNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"added\">\r\n        {message.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default AddedNotification","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter.js'\r\nimport PersForm from './components/PersForm.js'\r\nimport Persons from './components/Persons.js'\r\nimport phoneService from './services/persons'\r\nimport AddedNotification from './components/AddedNotification.js'\r\nimport ErrorNotification from './components/ErrorNotification.js'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [newMsg, setNewMsg] = useState(null)\r\n  const [newErrMsg, setNewErrmsg] = useState(null)\r\n\r\n  useEffect(() => {\r\n    phoneService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.map(person =>\r\n      person.name)\r\n      .includes(newName)) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        let getID = persons.find(item => item.name === newName)\r\n        let id = getID.id\r\n        phoneService\r\n          .update(id, personObject)\r\n          .then(updatedPerson => {\r\n            setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n          })\r\n          .catch(error => {\r\n            const message = {\r\n              message: `Information of ${personObject.name} has already been removed from server`,\r\n            }\r\n            setNewErrmsg(message)\r\n            setTimeout(() => {\r\n              setNewErrmsg(null)\r\n            }, 5000)\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n          })\r\n      }\r\n    }\r\n    else {\r\n      phoneService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n          const message = {\r\n            message: `Added ${personObject.name}`,\r\n          }\r\n          setNewMsg(message)\r\n          setTimeout(() => {\r\n            setNewMsg(null)\r\n          }, 5000)\r\n        }).catch(error => {\r\n\r\n          const message = {\r\n            message: `Is this undefined? ${error.response.data.error}`,\r\n          }\r\n          setNewErrmsg(message)\r\n          setTimeout(() => {\r\n            setNewErrmsg(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n    const deleteEntry = (id, name) => {\r\n      const result = window.confirm(`Delete ${name}?`);\r\n      let indexOfEntry = persons.map(person => person.id).indexOf(id)\r\n      if (result) {\r\n        phoneService\r\n          .deletePerson(id)\r\n          .then()\r\n        const personsCopy = [...persons]\r\n        personsCopy.splice(indexOfEntry, 1)\r\n        setPersons(personsCopy)\r\n      }\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n      setNewFilter(event.target.value)\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h2>Phonebook</h2>\r\n\r\n        <AddedNotification message={newMsg} />\r\n        <ErrorNotification message={newErrMsg} />\r\n\r\n        <Filter value={newFilter} onChange={handleFilterChange} />\r\n\r\n        <h3>Add a new</h3>\r\n        <PersForm\r\n          onSubmit={addPerson}\r\n          newName={newName}\r\n          nameOnChange={handleNameChange}\r\n          newNumber={newNumber}\r\n          numberOnChange={handleNumberChange}\r\n        />\r\n\r\n        <h3>Numbers</h3>\r\n        <Persons persons={persons} filter={newFilter} onClick={deleteEntry} />\r\n      </div>\r\n    )\r\n\r\n  }\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}