{"version":3,"sources":["components/Filter.js","components/PersForm.js","components/Persons.js","services/persons.js","components/AddedNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","value","onChange","PersForm","props","onSubmit","newName","nameOnChange","newNumber","numberOnChange","type","Persons","persons","filter","onClick","personFilter","length","person","name","toUpperCase","includes","console","log","map","key","id","number","baseUrl","axios","get","then","response","data","newObject","post","put","delete","AddedNotification","message","className","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","newMsg","setNewMsg","newErrMsg","setNewErrmsg","useEffect","phoneService","event","target","preventDefault","nameChecker","personObject","forEach","window","confirm","find","newPerson","catch","error","setTimeout","personData","concat","result","indexOfEntry","indexOf","personsCopy","splice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6MAceA,EAZA,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SACpB,OACI,iDAEA,2BACAD,MAAOA,EACPC,SAAUA,MCMHC,EAZE,SAACC,GACd,OACI,0BAAMC,SAAYD,EAAMC,UACxB,sCAAW,2BAAOJ,MAAOG,EAAME,QAASJ,SAAUE,EAAMG,gBACxD,wCAAa,2BAAON,MAAOG,EAAMI,UAAWN,SAAUE,EAAMK,kBAC5D,6BACE,4BAAQC,KAAK,UAAb,UCSKC,EAfC,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QAEzBC,EAAiC,IAAlBF,EAAOG,OAC1BJ,EACAA,EAAQC,QAAO,SAAAI,GAAM,OAAIA,EAAOC,KAAKC,cAAcC,SAASP,EAAOM,kBAGrE,OAFAE,QAAQC,IAAIP,GAGV,6BACGA,EAAaQ,KAAI,SAAAN,GAAM,OAAI,yBAAKO,IAAKP,EAAOQ,IAAKR,EAAOC,KAA7B,IAAoCD,EAAOS,OACvE,4BAAQZ,QAAS,kBAAMA,EAAQG,EAAOQ,GAAIR,EAAOC,QAAjD,gB,gBCXFS,EAAU,oCAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACP,EAAIQ,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBF,GAAMQ,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALM,SAACP,GAEpB,OADgBG,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BF,IAC5BK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCL5BK,EAZW,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACzB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,SACZD,EAAQA,UCKFE,EAZW,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACzB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,SACZD,EAAQA,UC2HFG,EA7HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACT9B,EADS,KACA+B,EADA,OAEcD,mBAAS,IAFvB,mBAETpC,EAFS,KAEAsC,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTlC,EAHS,KAGEqC,EAHF,OAIkBH,mBAAS,IAJ3B,mBAITI,EAJS,KAIEC,EAJF,OAKYL,mBAAS,MALrB,mBAKTM,EALS,KAKDC,EALC,OAMkBP,mBAAS,MAN3B,mBAMTQ,EANS,KAMEC,EANF,KAQhBC,qBAAU,WACRC,IAEGvB,MAAK,SAAAC,GACJY,EAAWZ,QAEd,IAsFD,OACE,6BACE,yCAEA,kBAAC,EAAD,CAAmBO,QAASU,IAC5B,kBAAC,EAAD,CAAmBV,QAASY,IAE5B,kBAAC,EAAD,CAAQjD,MAAO6C,EAAW5C,SAXH,SAACoD,GAC1BP,EAAaO,EAAMC,OAAOtD,UAYxB,yCACA,kBAAC,EAAD,CACEI,SA/FU,SAACiD,GACjBA,EAAME,iBAEN,IAMIC,EANEC,EAAe,CACnBxC,KAAMZ,EACNoB,OAAQlB,GAMVI,EAAQ+C,SAAQ,SAAA1C,GACd,GAAIA,EAAOC,OAASZ,OAApB,CAEE,GADesD,OAAOC,QAAP,UAAkBvD,EAAlB,2EAEf,CACE,IACImB,EADYb,EAAQkD,MAAK,SAAA7C,GAAM,OAAIA,EAAOC,OAASZ,KACpCmB,GACnB4B,EACQ5B,EAAIiC,GACX5B,MAAK,SAAAiC,GACJpB,EAAW/B,EAAQW,KAAI,SAAAN,GAAM,OAAIA,EAAOQ,KAAOA,EAAKR,EAAS8C,MAC7DnB,EAAW,IACXC,EAAa,OAEdmB,OAAM,SAAAC,GACLd,EAAa,CAAEb,QAAQ,kBAAD,OAAoBoB,EAAaxC,KAAjC,oEACtBgD,YAAW,WACTf,EAAa,QACZ,KACHP,EAAW,IACXC,EAAa,OAGjBY,EAAc,MAKE,IAAhBA,GACFJ,EACUK,GACP5B,MAAK,SAAAqC,GACJxB,EAAW/B,EAAQwD,OAAOD,IAC1BvB,EAAW,IACXC,EAAa,IAEb,IAAMP,EAAU,CACdA,QAAQ,SAAD,OAAWoB,EAAaxC,OAEjC+B,EAAUX,GACV4B,YAAW,WACTjB,EAAU,QACT,SA2CH3C,QAASA,EACTC,aAzBmB,SAAC+C,GACxBV,EAAWU,EAAMC,OAAOtD,QAyBpBO,UAAWA,EACXC,eAvBqB,SAAC6C,GAC1BT,EAAaS,EAAMC,OAAOtD,UAyBxB,uCACA,kBAAC,EAAD,CAASW,QAASA,EAASC,OAAQiC,EAAWhC,QA5C9B,SAACW,EAAIP,GACvB,IAAMmD,EAAST,OAAOC,QAAP,iBAAyB3C,EAAzB,MACXoD,EAAe1D,EAAQW,KAAI,SAAAN,GAAM,OAAIA,EAAOQ,MAAI8C,QAAQ9C,GAC5D,GAAI4C,EAAQ,CACVhB,EACgB5B,GACbK,OACH,IAAM0C,EAAW,YAAO5D,GACxB4D,EAAYC,OAAOH,EAAc,GACjC3B,EAAW6B,SCnFnBE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.aa4c29b2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div>\r\n        filter shown with\r\n        <input\r\n        value={value}\r\n        onChange={onChange}\r\n        />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersForm = (props) => {\r\n    return (\r\n        <form onSubmit = {props.onSubmit}>\r\n        <div>name: <input value={props.newName} onChange={props.nameOnChange}/></div>\r\n        <div>number: <input value={props.newNumber} onChange={props.numberOnChange}/></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, onClick}) => {\r\n\r\n    const personFilter = filter.length === 0\r\n    ? persons\r\n    : persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\r\n    console.log(personFilter)\r\n\r\n    return (\r\n      <div>\r\n        {personFilter.map(person => <div key={person.id}>{person.name} {person.number}\r\n        <button onClick={() => onClick(person.id, person.name)}>delete</button></div>)}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst AddedNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"added\">\r\n        {message.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default AddedNotification","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter.js'\nimport PersForm from './components/PersForm.js'\nimport Persons from './components/Persons.js'\nimport phoneService from './services/persons'\nimport AddedNotification from './components/AddedNotification.js'\nimport ErrorNotification from './components/ErrorNotification.js'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [newMsg, setNewMsg] = useState(null)\n  const [newErrMsg, setNewErrmsg] = useState(null)\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    let changeNumber\n    let nameChecker\n\n    persons.forEach(person => {\n      if (person.name === newName) {\n        changeNumber = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n        if (changeNumber)\n        {\n          let getPerson = persons.find(person => person.name === newName)\n          let id = getPerson.id\n          phoneService\n          .update(id, personObject)\n          .then(newPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : newPerson))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setNewErrmsg({ message: `Information of ${personObject.name} has already been removed from server, please refresh the page`})\n            setTimeout(() => {\n              setNewErrmsg(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n        }\n        nameChecker = 1\n        return\n      }\n    })\n\n    if (nameChecker !== 1) {\n      phoneService\n        .create(personObject)\n        .then(personData => {\n          setPersons(persons.concat(personData))\n          setNewName('')\n          setNewNumber('')\n\n          const message = {\n            message: `Added ${personObject.name}`\n          }\n          setNewMsg(message)\n          setTimeout(() => {\n            setNewMsg(null)\n          }, 5000)\n\n        })\n    }\n  }\n\n    const deleteEntry = (id, name) => {\n      const result = window.confirm(`Delete ${name}?`);\n      let indexOfEntry = persons.map(person => person.id).indexOf(id)\n      if (result) {\n        phoneService\n          .deletePerson(id)\n          .then()\n        const personsCopy = [...persons]\n        personsCopy.splice(indexOfEntry, 1)\n        setPersons(personsCopy)\n      }\n    }\n\n    const handleNameChange = (event) => {\n      setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n      setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n      setNewFilter(event.target.value)\n    }\n\n    return (\n      <div>\n        <h2>Phonebook</h2>\n\n        <AddedNotification message={newMsg} />\n        <ErrorNotification message={newErrMsg} />\n\n        <Filter value={newFilter} onChange={handleFilterChange} />\n\n        <h3>Add a new</h3>\n        <PersForm\n          onSubmit={addPerson}\n          newName={newName}\n          nameOnChange={handleNameChange}\n          newNumber={newNumber}\n          numberOnChange={handleNumberChange}\n        />\n\n        <h3>Numbers</h3>\n        <Persons persons={persons} filter={newFilter} onClick={deleteEntry} />\n      </div>\n    )\n\n  }\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}